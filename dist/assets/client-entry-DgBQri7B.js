const u="growi-plugin-default-user-search",s={name:u};function l(){const e=Array.from(document.querySelectorAll("label")).filter(c=>{var n;const t=((n=c.textContent)==null?void 0:n.trim())??"";return t.includes("/user")||t.includes("下も含む")||t.toLowerCase().includes("include")});for(const c of e){const t=c.querySelector('input[type="checkbox"]');if(t)return t;const n=c.getAttribute("for");if(n){const r=document.getElementById(n);if(r&&r.type==="checkbox")return r}}return document.querySelector('input[type="checkbox"][name*="user" i], input[type="checkbox"][id*="user" i], input[type="checkbox"][data-testid*="user" i]')??null}const o="growi.includeUser.initialized";function i(){if(sessionStorage.getItem(o)==="1")return!0;const e=l();return e?(e.checked||(e.checked=!0,e.dispatchEvent(new Event("change",{bubbles:!0}))),sessionStorage.setItem(o,"1"),!0):!1}function a(){if(i())return;const e=new MutationObserver(()=>{i()&&e.disconnect()});e.observe(document.documentElement,{childList:!0,subtree:!0})}const d=()=>{a()},b=()=>{};window.pluginActivators=window.pluginActivators??{};window.pluginActivators[s.name]={activate:d,deactivate:b};
